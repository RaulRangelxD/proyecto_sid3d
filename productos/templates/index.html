{% extends "base2.html" %} {% block title %} {% load static %}

<title>Index</title>
{% endblock %} {% block content %}
<style>
  .scroll-container {
    display: flex;
    overflow-x: auto;
    overflow-y: hidden; /* Evita el scroll vertical */
    scroll-behavior: smooth;
    padding-right: 1rem; /* Agrega espacio al final */
  }
  .scroll-item {
    flex: 0 0 auto;
    margin: 0px;
  }
  .scroll-button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10;
  }
  .left-button {
    left: 0;
  }
  .right-button {
    right: 0;
  }
</style>
{% if no_categorias == False %}

<body>
  <section>
    <div class="flex flex-col items-center w-full">
      {% for producto in filtro1 %}
      <div class="shadow-2xl rounded-lg">
        <figure>
          <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}" class="rounded-t-lg w-full" title="EP 60" loading="lazy" width="401" height="237" />
        </figure>
        <div class="bg-white p-6 rounded-b-lg">
          <h2 class="card-title text-xl font-semibold text-bt text-center">{{ producto.nombre }}</h2>
          <div class="card-actions justify-end">
            <a href="" class="bg-g text-white px-4 py-1 rounded-md w-full block text-center">View More</a>
          </div>
          <div class="flex flex-col mt-4">
            <label class="text-sm font-semibold text-gray-600">Precio:</label>
            <span class="text-sm text-gray-900">{{ producto.precio }}</span>
          </div>
          <div class="flex flex-col mt-2">
            <label class="text-sm font-semibold text-gray-600">Descripción:</label>
            <span class="text-sm text-gray-900">{{ producto.descripcion }}</span>
          </div>
          {% if producto.existencias > 0 %}
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#00FF0F" class="w-10 h-10 mt-2">
            <path
              fill-rule="evenodd"
              d="M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z"
              clip-rule="evenodd"
            />
          </svg>
          {% else %}
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#FF0000" class="w-10 h-10 mt-2">
            <path
              fill-rule="evenodd"
              d="M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z"
              clip-rule="evenodd"
            />
          </svg>
          {% endif %}
        </div>
      </div>
      {% endfor %}
    </div>
  </section>

  <section class="relative from-blue-50 to-violet-50 flex items-center justify-center lg:h-screen overflow-x-hidden mt-5">
    <!-- Botón Izquierda -->
    <button id="scrollLeft" class="scroll-button left-4 md:left-8 top-1/2 transform -translate-y-1/2 bg-blue-600 text-white rounded-full focus:outline-none p-2 absolute">&#9664;</button>
    <!-- Contenedor de Productos -->
    <div id="scrollContainer" class="scroll-container flex space-x-4 overflow-x-auto h-full">
      {% for producto in form %}
      <div class="scroll-item container grid grid-cols-1 gap-4 w-80 h-80 rounded-lg">
        <div class="flex flex-col gap-4">
          <div class="p-4 bg-white rounded-lg border dark:bg-gray-800 dark:border-gray-700">
            <div class="overflow-hidden rounded-md">
              <a href="">
                <img class="w-full h-60 object-cover" src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}" />
              </a>
            </div>
            <div class="px-5 pb-5">
              <a href="">
                <h5 class="mt-3 text-xl font-semibold tracking-tight text-gray-900 dark:text-white">{{ producto.nombre }}</h5>
              </a>
              <div class="flex items-center mt-2.5 mb-5">
                <div class="flex items-center space-x-1 rtl:space-x-reverse">
                  <!-- Aquí los íconos de estrellas -->
                  <svg class="w-4 h-4 text-yellow-300" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 20">
                    <path
                      d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"
                    />
                  </svg>
                  <!-- Repite los SVGs según sea necesario -->
                </div>
                <span class="m-2 bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded dark:bg-blue-200 dark:text-blue-800 ms-3">5.0</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-3xl font-bold text-gray-900 dark:text-white">{{ producto.precio }}</span>
                <a
                  href="#"
                  class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
                  >Add to cart</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    <!-- Botón Derecha -->
    <button id="scrollRight" class="scroll-button right-4 md:right-8 top-1/2 -translate-y-1/2 bg-blue-600 text-white rounded-full focus:outline-none p-2 absolute">&#9654;</button>
  </section>

  {% else %}
  <h1>No hay suficientes categorías para mostrar, el mínimo son 3</h1>
  {% endif %}

  <script>
    document.getElementById("scrollLeft").addEventListener("click", function () {
      document.getElementById("scrollContainer").scrollBy({ left: -300, behavior: "smooth" });
    });

    document.getElementById("scrollRight").addEventListener("click", function () {
      document.getElementById("scrollContainer").scrollBy({ left: 300, behavior: "smooth" });
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@2.8.2/dist/alpine.min.js" defer></script>
  {% endblock %}
</body>
